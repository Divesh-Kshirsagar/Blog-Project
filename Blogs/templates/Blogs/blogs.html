{% extends 'Blogs/base.html' %}

{% block content %}
<header class=" w-full  bg-[#d9d9d9] py-3">
    <div class="w-[96%] flex justify-between items-center mx-auto">
        <div class="w-[130px]"><img src="/static/svg/BlogHub.svg" alt="bloghub logo"></div>
        <div class="jaldi-bold text-black flex gap-6 items-center">
            {% if user.is_authenticated %}
            <a href="{% url 'Blogs:create' %}"
                >Create
                Blogs</a>

            <a href="{% url 'Blogs:myblogs' %}"
                >My
                Blogs</a>
            <a href="{% url 'MyUsers:logout' %}"
                class="hover:text-black hover:bg-[#ffd5ff] text-white bg-black px-4 py-2 rounded-md shadow-sm  focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                onclick="alert('You have been successfully logout.')">logout</a>
            {% else %}
            <a href="{% url 'Blogs:home' %}">HOME</a>
            <a href="{% url 'MyUsers:login' %}"
                class="px-[30px] py-[10px] bg-[#ffd5ff] text-[#800080] hover:bg-white focus:border-2 focus:border-black rounded-[5px]">SIGN
                IN</a>
            <a href="{% url 'MyUsers:register' %}"
                class="px-[30px] py-[10px] text-[#ffd5ff] bg-[#800080] hover:bg-white focus:border-2 focus:border-black rounded-[5px]">REGISTER</a>
            {% endif %}
        </div>
    </div>
</header>
<div class="container mx-auto p-4">
    <h1 class="text-center aclonica-regular text-4xl m-8">ALL BLOGS</h1>
    {% for blog in blogs %}
    <div class="bg-white shadow-md rounded-lg overflow-hidden mb-6">
        <!-- Blog Content -->
        <div class="p-4">
            <!-- Blog Image -->
            {% if blog.image %}
            <div class="w-[95vw] mx-auto mb-4">
                <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="object-cover w-full h-auto rounded-lg">
            </div>
            {% endif %}

            <!-- Title -->
            <h2 class=" font-bold mb-2">
                <a href="{% url 'Blogs:blog_post' blog.id %}" class="hover:underline text-xl">{{ blog.title }}</a>
            </h2>

            <!-- Date -->
            <p class="text-gray-500 text-sm mb-4">{{ blog.date|date:"F d, Y" }}</p>

            <!-- Content (without autoescape for HTML rendering) -->
            <div class="prose max-w-none">
                {% autoescape off %}
                {{ blog.content|truncatewords:60 }}
                {% endautoescape %}
            </div>
        </div>
    </div>
    {% empty %}
    <p class="text-center text-gray-600">Stay Tuned</p>
    {% endfor %}
</div>



{% endblock content %}